
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Joseph Wilk</title>
  <meta name="author" content="Joseph Wilk">

  
  <meta name="description" content="There has been lots of activity around the value of metrics for source code and tests. In the Ruby world tools like metric_fu provide a wealth of &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://josephwilk.github.io/page/5/index.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Joseph Wilk" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<script src="http://disqus.com/forums/josephwilk/embed.js"></script>
<link href="http://fonts.googleapis.com/css?family=Bevan" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3020740-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <img src="/images/joe_small2.png" style="position:relative;border-radius: 8px;margin-right: 5px;border-style: solid;border-width: 1px;border-color: #DDD;" height="60" alt="Joseph Wilk">
  <span style="display:inline-block">
    <h1><a href="/">Joseph Wilk</a></h1>
    <h2>Things with code, creativity and computation.</h2>
  </span>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="site:josephwilk.github.io" />
<!-- //new code -->
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
 <li><a href="/">Home</a></li>
 <li><a href="/about">About</a></li>
 <li><a href="/speaking">Speaking</a></li>
 <li><a href="/art">Art</a></li>
 <li><a href="/contact">Contact</a></li>
 <li><a href="/archives">Archives</a></li>
</ul>
</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/ruby/metrics-for-plain-text-acceptance-tests.html">Metrics for Plain Text Acceptance Tests</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-10T20:37:19+00:00" pubdate data-updated="true">Nov 10<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There has been lots of activity around the value of metrics for source code and tests. In the Ruby world tools like <a href="http://metric-fu.rubyforge.org/">metric_fu</a> provide a wealth of analysis.</p>

<p>While working on my Cucumber talk for Rails Underground I started investigating how we could apply metrics to the customer focused plain text of Cucumber. For those not familiar with <a href="http://cukes.info/">Cucumber</a> it&rsquo;s an acceptance testing framework which allows non-technical people to write plain-text describing the behaviors of their system. The developers/testers map the plain-text to tests.</p>

<p>Having spent time teaching people about the plain-text side of Cucumber I often found myself recommending the same guidelines and plain-text anti-patterns. This lead me to think about providing metrics scoring the customers plain-text.</p>

<p><strong>Why would we want plain-text acceptance test metrics?</strong></p>

<ul>
<li><p>Help plain-text beginners avoid bad practices early on.</p></li>
<li><p>Help improve the quality of plain-text</p></li>
<li><p>Help quality review with a large frequency of incoming features</p></li>
</ul>


<p><strong>Why does the quality of the plain-text matter?</strong></p>

<p>Why focus on quality, the plain-texts primarily goal is to be easy for customer to use?</p>

<ul>
<li><p>The developer builds the Domain specific language via mapping plain text to ruby. Higher quality plain-text could make it easier to manage these mappings without any major impact to readability.</p></li>
<li><p>Higher quality text is easier to read, edit and understand.</p></li>
</ul>


<p><strong>Who would find it useful?</strong></p>

<p>Initially Developers.<strong>
</strong></p>

<ul>
<li><p>In some scenarios the developers write the features from discussions and give to the customer to review.</p></li>
<li><p>Developers may tweak/review customer written changes/features.</p></li>
<li><p>Developers often edit/tweak plain-text from the customer to enable reuse of existing test code .</p></li>
<li><p>In open source projects often developers write Cucumber features. Metrics are something they are comfortable with.</p></li>
</ul>


<p><strong>Can you measure quality in plain-text?</strong></p>

<p>First its important to distinguish acceptance tests from pure plain-text. Within acceptance tests we have some degree of structure, for example using Given/When/Then to describe scenarios.</p>

<p>Cucumber Example:</p>

<pre><code>Scenario: Eating all cucumbers
  Given there are 5 cucumbers
  When I eat 5 cucumbers
  Then I should have 0 cucumbers
</code></pre>

<p>This structure reduces the complexity of analysing the quality of the text. It provides us with different structural elements which have different rules/guidelines on what their content should be.</p>

<p>The problem with measuring the quality of text is that it is far more subjective in than in code. So while we cannot be absolute in our assessment of quality we can try and codify smells that <em>could</em> indicate areas in the text that <em>could</em> be improved. This is pretty much true for all metrics, they are guidelines not absolutes (Dan Norths highlights the dangers of absolute metrics in the <a href="http://dannorth.net/2009/11/the-lady-in-the-taxi-a-parable-of-metrics">Parable of Metrics</a>)</p>

<p>So what useful metrics could we look at?</p>

<h2>Plain text Metrics</h2>

<p>From my experience with Cucumber I would suggest examining:</p>

<ul>
<li><p>Lack of Feature/Story Narrative</p>

<ul>
<li>We don&rsquo;t know why this feature is useful and who it&rsquo;s useful to!</li>
</ul>
</li>
<li><p>Scenario length</p>

<ul>
<li>Very long scenarios may reflect more abstraction should be used to help make the scenarios easier to read (See declarative vs imperative scenarios: <a href="http://www.benmabey.com/2008/05/19/imperative-vs-declarative-scenarios-in-user-stories/">http://www.benmabey.com/2008/05/19/imperative-vs-declarative-scenarios-in-user-stories/</a>)</li>
</ul>
</li>
<li><p>Size of Background (like  a before/setup)</p>

<ul>
<li>Increases conceptual overhead for each scenario. More reasons here: <a href="http://wiki.github.com/aslakhellesoy/cucumber/background">http://wiki.github.com/aslakhellesoy/cucumber/background</a></li>
</ul>
</li>
<li><p>Semantically close words across features</p>

<ul>
<li>Can indicate ambiguity around domain terminology</li>
</ul>
</li>
<li><p>Frequency of noise words (&lsquo;basically&rsquo;, &lsquo;be able to&rsquo;, etc)</p>

<ul>
<li>Adds no value and drives me crazy.</li>
</ul>
</li>
</ul>


<h2>Feedback</h2>

<p>What do you think of the idea?</p>

<p>Can you think of any other useful plain-text metrics?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/ruby/ruby-metric-fu-hudson-plugin.html">Ruby Metric-fu Hudson Plugin</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-04T21:36:02+01:00" pubdate data-updated="true">Oct 4<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have written a plugin for the continuous integration server <a href="https://hudson.dev.java.net/">Hudson</a> which uses a <a href="http://metric-fu.rubyforge.org/">metric-fu</a> rake task at its core to build and present graphs representing different metrics over successful builds.
It currently supports:</p>

<ul>
<li><a href="http://ruby.sadi.st/Flog.html">Flog</a> (Complexity)</li>
<li><a href="http://ruby.sadi.st/Flay.html">Flay</a> (Duplication)</li>
<li><a href="http://eigenclass.org/hiki.rb?rcov">Rcov</a> (Code coverage)</li>
</ul>


<p><img src="/images/blog/2009/10/Screen-shot-2009-10-01-at-19.59.28.png" alt="Hudson with RubyMetricFu graphs" /></p>

<p>The source is available on Github:</p>

<p><a href="http://github.com/josephwilk/rubymetricfu">http://github.com/josephwilk/rubymetricfu</a></p>

<h2>Installing</h2>

<p>Currently all Hudson’s plugins are stored in something called SVN. Being more of a GIT myself you have to manually install the plugin rather than using the automatic Hudon GUI install method.</p>

<h3>Install steps:</h3>

<ol>
<li><p> Ensure you have the <a href="http://wiki.hudson-ci.org/display/HUDSON/Ruby+Plugin">Ruby</a> and <a href="http://wiki.hudson-ci.org/display/HUDSON/Rake+plugin">Rake</a> Hudson plugins installed.</p></li>
<li><p> Follow the metric-fu installation guide (<a href="http://metric-fu.rubyforge.org/">http://metric-fu.rubyforge.org/</a>)</p></li>
<li><p> Ensure project code has a metrics:all rake task (auto added when you require metric-fu)</p></li>
<li><p> Download the <a href="http://cloud.github.com/downloads/josephwilk/rubymetricfu/rubymetricfu.hpi">rubymetricfu.hpi</a> plugin file</p></li>
<li><p> Copy the file into your plugins folder within you Hudson install. Hudson&rsquo;s default is  ~/.hudson/plugins</p></li>
<li><p> Restart hudson</p></li>
<li><p> Go to the &lsquo;configure&rsquo; link for a project and select the Ruby Metric-fu report option (see below)</p></li>
<li><p> (Optionally) Pick which Rake version you want to use.</p></li>
</ol>


<p><img src="/images/blog/2009/10/Screen-shot-2009-10-04-at-21.15.31.png" alt="Setup Metric-fu" /></p>

<h2>Future</h2>

<ul>
<li><p>Futher metrics to graph:</p>

<ul>
<li><p><a href="http://roodi.rubyforge.org/">Roodi</a> (design issues)</p></li>
<li><p><a href="http://github.com/kevinrutherford/reek">Reek</a> (Code smells)</p></li>
<li><p><a href="http://saikuro.rubyforge.org/">Saikuro</a> (cyclomatic complexity)</p></li>
</ul>
</li>
<li><p>Configure which metrics you want on your project page.</p></li>
<li><p>Create a Crap4R meter using Rcov and Flog (Similar to <a href="http://www.crap4j.org/">Crap4J</a>).</p></li>
<li><p>Better integration with the html reports generated by metric-fu.</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/ruby/jvm-call-to-arms-with-cucumbers.html">JVM Call to Arms With Cucumbers</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-29T20:29:32+01:00" pubdate data-updated="true">Jul 29<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/blog/2009/07/foaming_cuke_thumb.jpg" alt="foaming_cuke_thumb" />
<em>&ldquo;Cucumber needs you to experiment with your favourite Java Virtual Machine based language and connect to Cucumber via JRuby.&rdquo;</em></p>

<p>What&rsquo;s this Cucumber you speak of?  Checkout: <a href="http://cukes.info/">http://cukes.info/</a></p>

<p>Wait that&rsquo;s Ruby, how do I use a JVM based language to play with it?</p>

<p>Cuke4Duke (<a href="http://wiki.github.com/aslakhellesoy/cuke4duke">http://wiki.github.com/aslakhellesoy/cuke4duke</a>) allows writing Cucumber step definitions in Java. This means Java developers can use the Cucumber tool without having to write any Ruby.</p>

<h2>Ruby step definitions</h2>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Given</span> <span class="sr">/I have (\d+) cukes in my belly/</span> <span class="k">do</span> <span class="o">|</span><span class="n">n</span><span class="o">|</span>
</span><span class='line'>  <span class="vi">@belly</span> <span class="o">||=</span> <span class="o">[]</span>
</span><span class='line'>  <span class="n">n</span><span class="o">.</span><span class="n">to_i</span><span class="o">.</span><span class="n">times</span> <span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="vi">@belly</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;cuke&quot;</span><span class="p">}</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Equivalent Java step definitions</h2>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">cukes</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">cuke4duke.Given</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">cuke4duke.Steps</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="nd">@Steps</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BellySteps</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">List</span> <span class="n">belly</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Given</span><span class="o">(</span><span class="s">&quot;I have (\\d+) cukes in my belly&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">bellyCukes</span><span class="o">(</span><span class="kt">int</span> <span class="n">cukes</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cukes</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">belly</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;cukes&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This works by connecting Java to Cucumber via JRuby (<a href="http://jruby.codehaus.org/">http://jruby.codehaus.org/</a>).</p>

<p>So in theory if your language runs on the JVM you can use JRuby, and hence use Cucumber and its wonderful <a href="http://wiki.github.com/aslakhellesoy/cucumber/gherkin">Gherkin</a> language.</p>

<h4>So what are you waiting for! Pick up your favourite JVM language and arm yourself with Cucumber!</h4>

<p>Some Example JVM languages:</p>

<ul>
<li><p><a href="http://groovy.codehaus.org/">Groovy</a></p></li>
<li><p><a href="http://clojure.org/">Clojure</a></p></li>
<li><p><a href="http://www.scala-lang.org/">Scala</a></p></li>
<li><p><a href="http://ioke.org/">Ioke</a></p></li>
</ul>


<h4>Good luck and safe Cuking</h4>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/ruby/futureruby-talk-cucumbered.html">FutureRuby Talk: Cucumbered</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-17T21:29:52+01:00" pubdate data-updated="true">Jul 17<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://futureruby.com/">FutureRuby</a> was an exceptional conference and I was excited to be a part of such a creative group of people. I talked about Cucumber, looking at what it is, how to use it, and why to use it. Useful links for Cucumber:</p>

<ul>
<li><p>Wiki <a href="http://wiki.github.com/aslakhellesoy/cucumber">http://wiki.github.com/aslakhellesoy/cucumber</a></p></li>
<li><p>Source code <a href="http://github.com/aslakhellesoy/cucumber">http://github.com/aslakhellesoy/cucumber</a>.</p></li>
</ul>


<p> I demonstrated using Cucumber to test a simple IPhone application. To make the IPhone testing a little more palatable I used a little gem called IRobat. Its very rough around the edges and in no way complete but you can take a look at the <a href="http://github.com/josephwilk/irobat/">IRobat code on Github</a>.</p>

<p>No Cucumbers were harmed (just mildly shaken up) in the making of this presentation.</p>

<p><a href="http://www.slideshare.net/josephwilk/cucumbered">Cucumbered</a></p>

<p>View more <a href="http://www.slideshare.net/">documents</a> from <a href="http://www.slideshare.net/josephwilk">Joseph Wilk</a>.</p>

<p>What people were saying about the talk:</p>

<p><img src="/images/blog/2009/07/Picture-12.png" alt="FutureRuby Cucumber Twitter Talk" /></p>

<p><img src="/images/blog/2009/07/Picture-13.png" alt="FutureRuby Cucumber twitter talk" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/ruby/mind-the-gap-european-software-tester-magazine-article.html">Mind the Gap - European Software Tester Magazine Article</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-06-04T20:29:08+01:00" pubdate data-updated="true">Jun 4<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I recently wrote an article for &lsquo;The European Software Tester&rsquo; magazine which looked at ways Cucumber, Acceptance tests in general and practices around Behaviour Driven Development can help avoid the gap between what the customer wants and what they get. I&rsquo;m happy to say the article has been published and is also available digitally:</p>

<p><a href="http://content.yudu.com/Library/A15ltd/TestMarch2009/resources/index.htm?referrerUrl=http%3A%2F%2Fwww.yudu.com%2Fitem%2Fdetails%2F43094%2FTest-March-2009">European Software Tester &ndash; 09 March Issue</a> - Page 28</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/ruby/cucumber-tags-and-continuous-integration-oh-my.html">Cucumber, Tags and Continuous Integration Oh My!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-04-12T13:56:08+01:00" pubdate data-updated="true">Apr 12<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We want to be able to commit our code frequently to prevent merge headaches.</p>

<p>&ldquo;<em>the longer you wait, the more your code will diverge from your teammates. If you don&rsquo;t commit often you rob them of the opportunity to reduce merge hell.</em>&rdquo; Aslak Hellesøy</p>

<p>When dealing with Cucumber and Features/Scenarios we may find we want to commit part way through a scenario but we won&rsquo;t because:</p>

<ol>
<li> We don&rsquo;t want to break the build</li>
<li> We don&rsquo;t want to pollute the build with lots of pending steps.</li>
</ol>


<p>A common solution to this problem is to create two streams for running the features:</p>

<ol>
<li><p> In-progress</p>

<ul>
<li>If an in-progress scenario fails then the build carries on.</li>
<li>If an in-progress scenario passes then the build fails (This is very similar to how Rspec works with pending)</li>
</ul>
</li>
<li><p>   Finished</p>

<ul>
<li>If a completed scenario fails it causes the build to fail.</li>
</ul>
</li>
</ol>


<p>We can implement this model using Cucumber&rsquo;s new Tag feature. We can tag Scenarios and Features with @in-progress and use this tag to help exclude in-progress Features/Scenarios from the finished build.</p>

<pre><code>@in-progress
Feature:
  In order to avoid merge headaches
  As a developer
  I want to tag my features and scenarios with a in-progress tag

  @in-progress
  Scenario: I'm not finished yet
    Given ...
    When ...
    Then ...
</code></pre>

<h2>The Rake tasks</h2>

<h3>Finished features/scenarios task</h3>

<p>We prefix tags with ~ to exclude features or scenarios having that tag</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="n">desc</span> <span class="s2">&quot;Run finished features&quot;</span>
</span><span class='line'>  <span class="ss">Cucumber</span><span class="p">:</span><span class="ss">:Rake</span><span class="o">::</span><span class="no">Task</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:finished</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">cucumber_opts</span> <span class="o">=</span> <span class="s2">&quot;--format progress --tags ~in-progress&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>In-progress features/scenarios task</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="n">desc</span> <span class="s2">&quot;Run in-progress features&quot;</span>
</span><span class='line'>  <span class="ss">Cucumber</span><span class="p">:</span><span class="ss">:Rake</span><span class="o">::</span><span class="no">Task</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:in_progress</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">cucumber_opts</span> <span class="o">=</span> <span class="s2">&quot;--require formatters/ --format Cucumber::Formatter::InProgress --tags in-progress&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>We require a special formatter Cucumber::Formatter::InProgress which is essential for making the task work. This formatter as well as giving helpful output changes the command line exit codes of Cucumber. This is kind of crazy but only within the formatter do we have enough information to decided if we should fail or pass. The formatter only returns a failure exit code if there were any scenarios which passed. So unlike the default exit codes failing steps will not cause a failure exit code.</p>

<h2>Full Source Code</h2>

<p>Also available at: <a href="http://github.com/josephwilk/cucumber_cocktails/tree/master">http://github.com/josephwilk/cucumber_cocktails/tree/master</a></p>

<h3>Rake Task</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;cucumber/rake/task&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">BuildFailure</span> <span class="o">&lt;</span> <span class="no">Exception</span><span class="p">;</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">message</span> <span class="o">=</span> <span class="kp">nil</span><span class="p">)</span>
</span><span class='line'>    <span class="n">message</span> <span class="o">||=</span> <span class="s2">&quot;Build failed&quot;</span>
</span><span class='line'>    <span class="k">super</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="ss">Cucumber</span><span class="p">:</span><span class="ss">:Rake</span><span class="o">::</span><span class="no">Task</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
</span><span class='line'>  <span class="n">t</span><span class="o">.</span><span class="n">cucumber_opts</span> <span class="o">=</span> <span class="s2">&quot;--format progress&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">namespace</span> <span class="ss">:features</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">desc</span> <span class="s2">&quot;Run finished features&quot;</span>
</span><span class='line'>  <span class="ss">Cucumber</span><span class="p">:</span><span class="ss">:Rake</span><span class="o">::</span><span class="no">Task</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:finished</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">cucumber_opts</span> <span class="o">=</span> <span class="s2">&quot;--format progress --tags ~in-progress&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">desc</span> <span class="s2">&quot;Run in-progress features&quot;</span>
</span><span class='line'>  <span class="ss">Cucumber</span><span class="p">:</span><span class="ss">:Rake</span><span class="o">::</span><span class="no">Task</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:in_progress</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">cucumber_opts</span> <span class="o">=</span> <span class="s2">&quot;--require formatters/ --format Cucumber::Formatter::InProgress --tags in-progress&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">desc</span> <span class="s2">&quot;Run complete feature build&quot;</span>
</span><span class='line'><span class="n">task</span> <span class="ss">:cruise</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">finished_successful</span> <span class="o">=</span> <span class="n">run_and_check_for_exception</span><span class="p">(</span><span class="s2">&quot;finished&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="n">in_progress_successful</span> <span class="o">=</span> <span class="n">run_and_check_for_exception</span><span class="p">(</span><span class="s2">&quot;in_progress&quot;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">unless</span> <span class="n">finished_successful</span> <span class="o">&amp;&amp;</span> <span class="n">in_progress_successful</span>
</span><span class='line'>    <span class="nb">puts</span>
</span><span class='line'>    <span class="nb">puts</span><span class="p">(</span><span class="s2">&quot;Finished features had failing steps&quot;</span><span class="p">)</span> <span class="k">unless</span> <span class="n">finished_successful</span>
</span><span class='line'>    <span class="nb">puts</span><span class="p">(</span><span class="s2">&quot;In-progress Scenario/s passed when they should fail or be pending&quot;</span><span class="p">)</span> <span class="k">unless</span> <span class="n">in_progress_successful</span>
</span><span class='line'>    <span class="nb">puts</span>
</span><span class='line'>    <span class="k">raise</span> <span class="no">BuildFailure</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">run_and_check_for_exception</span><span class="p">(</span><span class="n">task_name</span><span class="p">)</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="s2">&quot;*** Running </span><span class="si">#{</span><span class="n">task_name</span><span class="si">}</span><span class="s2"> features ***&quot;</span>
</span><span class='line'>  <span class="k">begin</span>
</span><span class='line'>    <span class="ss">Rake</span><span class="p">:</span><span class="ss">:Task</span><span class="o">[</span><span class="s2">&quot;features:</span><span class="si">#{</span><span class="n">task_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">].</span><span class="n">invoke</span>
</span><span class='line'>  <span class="k">rescue</span> <span class="no">Exception</span> <span class="o">=&gt;</span> <span class="n">e</span>
</span><span class='line'>    <span class="k">return</span> <span class="kp">false</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>  <span class="kp">true</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>InProgress Formatter</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">module</span> <span class="nn">Cucumber</span>
</span><span class='line'>  <span class="k">module</span> <span class="nn">Formatter</span>
</span><span class='line'>    <span class="k">class</span> <span class="nc">InProgress</span> <span class="o">&lt;</span> <span class="no">Progress</span>
</span><span class='line'>      <span class="no">FAILURE_CODE</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class='line'>      <span class="no">SUCCESS_CODE</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'>
</span><span class='line'>      <span class="no">FORMATS</span><span class="o">[</span><span class="ss">:invalid_pass</span><span class="o">]</span> <span class="o">=</span> <span class="no">Proc</span><span class="o">.</span><span class="n">new</span><span class="p">{</span> <span class="o">|</span><span class="n">string</span><span class="o">|</span> <span class="o">::</span><span class="ss">Term</span><span class="p">:</span><span class="ss">:ANSIColor</span><span class="o">.</span><span class="n">blue</span><span class="p">(</span><span class="n">string</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">step_mother</span><span class="p">,</span> <span class="n">io</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</span><span class='line'>        <span class="k">super</span><span class="p">(</span><span class="n">step_mother</span><span class="p">,</span> <span class="n">io</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</span><span class='line'>        <span class="vi">@scenario_passed</span> <span class="o">=</span> <span class="kp">true</span>
</span><span class='line'>        <span class="vi">@passing_scenarios</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'>        <span class="vi">@feature_element_count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">def</span> <span class="nf">visit_feature_element</span><span class="p">(</span><span class="n">feature_element</span><span class="p">)</span>
</span><span class='line'>        <span class="k">super</span>
</span><span class='line'>
</span><span class='line'>        <span class="vi">@passing_scenarios</span> <span class="o">&lt;&lt;</span> <span class="n">feature_element</span> <span class="k">if</span> <span class="vi">@scenario_passed</span>
</span><span class='line'>        <span class="vi">@scenario_passed</span> <span class="o">=</span> <span class="kp">true</span>
</span><span class='line'>        <span class="vi">@feature_element_count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class='line'>
</span><span class='line'>        <span class="vi">@io</span><span class="o">.</span><span class="n">flush</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">def</span> <span class="nf">visit_exception</span><span class="p">(</span><span class="n">exception</span><span class="p">,</span> <span class="n">status</span><span class="p">)</span>
</span><span class='line'>        <span class="vi">@scenario_passed</span> <span class="o">=</span> <span class="kp">false</span>
</span><span class='line'>        <span class="k">super</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="kp">private</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">def</span> <span class="nf">print_summary</span>
</span><span class='line'>        <span class="k">unless</span> <span class="vi">@passing_scenarios</span><span class="o">.</span><span class="n">empty?</span>
</span><span class='line'>          <span class="vi">@io</span><span class="o">.</span><span class="n">puts</span> <span class="n">format_string</span><span class="p">(</span><span class="s2">&quot;(::) Scenarios passing which should be failing or pending (::)&quot;</span><span class="p">,</span> <span class="ss">:invalid_pass</span><span class="p">)</span>
</span><span class='line'>          <span class="vi">@io</span><span class="o">.</span><span class="n">puts</span>
</span><span class='line'>          <span class="vi">@passing_scenarios</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">element</span><span class="o">|</span>
</span><span class='line'>            <span class="vi">@io</span><span class="o">.</span><span class="n">puts</span><span class="p">(</span><span class="n">format_string</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">backtrace_line</span><span class="p">,</span> <span class="ss">:invalid_pass</span><span class="p">))</span>
</span><span class='line'>          <span class="k">end</span>
</span><span class='line'>          <span class="vi">@io</span><span class="o">.</span><span class="n">puts</span>
</span><span class='line'>        <span class="k">end</span>
</span><span class='line'>        <span class="n">print_counts</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">unless</span> <span class="vi">@passing_scenarios</span><span class="o">.</span><span class="n">empty?</span>
</span><span class='line'>          <span class="n">override_exit_code</span><span class="p">(</span><span class="no">FAILURE_CODE</span><span class="p">)</span>
</span><span class='line'>        <span class="k">else</span>
</span><span class='line'>          <span class="n">override_exit_code</span><span class="p">(</span><span class="no">SUCCESS_CODE</span><span class="p">)</span>
</span><span class='line'>        <span class="k">end</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">def</span> <span class="nf">override_exit_code</span><span class="p">(</span><span class="n">status_code</span><span class="p">)</span>
</span><span class='line'>        <span class="nb">at_exit</span> <span class="k">do</span>
</span><span class='line'>          <span class="no">Kernel</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">status_code</span><span class="p">)</span>
</span><span class='line'>        <span class="k">end</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/ruby/outside-in-development-with-cucumber-and-rspec.html">Outside-in Development With Cucumber and Rspec</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-03-30T16:59:11+01:00" pubdate data-updated="true">Mar 30<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I was speaking in Edinburgh at Scotland on Rails 2009 about Cucumber and Rspec.</p>

<p>You can watch the <a href="http://scotland-on-rails.s3.amazonaws.com/1A06_JosephWilk-SOR.mp4">recorded full talk</a>.</p>

<p>I&rsquo;ve also posted the slides from the presentation and uploaded the screencasts used in the presentation in both high and low resolutions. They are accessible from links within the presentation.</p>

<p>Here are some of the useful links from the presentation:</p>

<ul>
<li><p>Cuke&rsquo;s official website &ndash; <a href="http://cukes.info">http://cukes.info</a></p></li>
<li><p>Cucumer&rsquo;s github wiki &ndash; <a href="http://wiki.github.com/aslakhellesoy/cucumber">http://wiki.github.com/aslakhellesoy/cucumber</a></p></li>
<li><p>Rspec&rsquo;s website &ndash; <a href="http://rspec.info">http://rspec.info</a></p></li>
<li><p>The Rspec book &ndash; Pragmatic book store &ndash; <a href="http://www.pragprog.com/titles/achbd/the-rspec-book">http://www.pragprog.com/titles/achbd/the-rspec-book</a></p></li>
<li><p>In-memory browser testing &ndash; Webrat &ndash; <a href="http://wiki.github.com/brynary/webrat">http://wiki.github.com/brynary/webrat</a></p></li>
<li><p>Browser based testing &ndash; Watir &ndash; <a href="http://wtr.rubyforge.org/">http://wtr.rubyforge.org/</a></p></li>
<li><p>Browser based testing &ndash; Selenium &ndash; <a href="http://seleniumhq.org/">http://seleniumhq.org/</a></p></li>
<li><p>Headless Browser testing &ndash; Celerity &ndash; <a href="http://celerity.rubyforge.org/">http://celerity.rubyforge.org/</a></p></li>
<li><p>Using Celerity from within Ruby &ndash; Culerity &ndash; <a href="http://upstream-berlin.com/2009/01/28/culerity-full-stack-rails-testing-with-cucumber-and-celerity/">http://upstream-berlin.com/2009/01/28/culerity-full-stack-rails-testing-with-cucumber-and-celerity/</a></p></li>
<li><p>Website for checking regular expressions &ndash; Rubular &ndash; <a href="http://www.rubular.com/">http://www.rubular.com/</a></p></li>
</ul>


<p>I would like to thank the organisers, everyone who came to listen and speak at the conference. It was a pleasure to be a part of such an enthusiastic group of people in such a beautiful venue.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/ruby/cucumber-waves-goodbye-to-givenscenario.html">Cucumber Waves Goodbye to GivenScenario</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-02-16T20:48:41+00:00" pubdate data-updated="true">Feb 16<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Cucumber as of version 0.2 has removed the GivenScenario feature. GivenScenario was introduced in the original story runner to allow calling a scenario from another within the same feature.</p>

<pre><code>Scenario: setup
  Given ...

 Scenario: example
   GivenScenario setup
  ...
</code></pre>

<p>I initially thought this was a great feature (as mentioned in <a href="/ruby/telling-a-good-story-rspec-stories-from-the-trenches.html">Rspec stories from the trenches</a>). However when I was using GivenScenario I was thinking as a programmer, which is usually where you start going off the tracks when writing features.</p>

<p>Lets look at an example of GivenScenario</p>

<pre><code> Scenario: setup
    Given an author "joe"
    And pages created by "joe":
      | title |    content   |
      | cuke  | just cuke it |

  Scenario: search pages
    GivenScenario setup
    When I search for "cuke"
    Then I should see "just cuke it" 

  Scenario: expanding search result details
    GivenScenario search pages
    When I click "show details" for the first search result
    Then I will see the author "joe"
</code></pre>

<p>This example highlights a number of problems with GivenScenario:</p>

<h3>Difficult to understand isolated scenarios</h3>

<p>While the example might make sense when working sequential through the scenarios in the longer term it produces scenarios that are hard to maintain and understand. Often during the life cycle of a system you will come back to an isolated scenario but in this example you would have to trace through the stack of scenarios to understand the context.</p>

<h3>Creating setups which pretend to be scenarios</h3>

<p>When creating a Scenario to use in GivenScenario often what you are actually expressing is a setup block and not a true scenario.</p>

<h3>Noise in the output</h3>

<p>If you re-use scenarios that contain the normal Given/When/Then it introduces a lot of noise in the output of the features. This is especially the case with multiple ‘Then’s each testing different concepts. Running our example above outputs:</p>

<pre><code>  ...
  Scenario: expanding search result details
    Given an author "joe"
    And pages created by "joe"
      | title |    content   |
      | cuke  | just cuke it |
    When I search for "cuke"
    Then I should see "just cuke it"
    When I click "show details" for the first search result
    Then I will see the author "joe"
  ...
</code></pre>

<h3>Ugly Camel case</h3>

<p>Since the reserved word Given was already used we ended up with GivenScenario. Something that was not natural for non-technical users.</p>

<h3>Summary</h3>

<p>GivenScenarios are like procedure calls but from this analogy they ended up with something that had too much power. This lead to a feature which was easy to misuse and did not cleanly fit with Scenarios and plain text.</p>

<h2>Solutions to GivenScenario</h2>

<p>There are two solutions to replace &lsquo;GivenScenario&rsquo;:</p>

<h3>Calling Steps from Step Definitions</h3>

<p>The ability to <a href="http://wiki.github.com/aslakhellesoy/cucumber/calling-steps-from-step-definitions">call existing steps from step definitions</a> allows us to introduce a hierarchy of abstraction in our steps.</p>

<p>We can have a high level Step:</p>

<pre><code>  Given a basic site  
</code></pre>

<p>Which in turn uses our other steps.</p>

<pre><code> Given /a basic site/ do
    Given 'an author "joe"'
    Given 'pages created by "joe"', table(%{
      | title |    content   |
      | cuke  | just cuke it |
    })
  end
</code></pre>

<p>In contrast to ‘GivenScenario’ this solution pushes the logic down into the step definitions, moving it out of the customers domain and into the developers domain.</p>

<p>This reduces the noise in the feature text allowing us to focus on the real feature and value.</p>

<p>However abstraction is not always the right pattern when trying to add context to your features. There is a danger that high-level steps could lead to confusion, since it pushes details out of sight of the customer.</p>

<h3>Background</h3>

<p><a href="http://wiki.github.com/aslakhellesoy/cucumber/background">Background</a> defines of a set of steps which are implicitly run before every scenario.</p>

<p>This is similar to ‘GivenScenario’ but has some key differences which help overcome some of the problems mentioned:</p>

<ul>
<li><p>Only one Background per feature - No chain of background dependencies are possible</p></li>
<li><p>Background has to be the first feature element in the Feature - We always know where to look for context.</p></li>
<li><p>It&rsquo;s implicitly called in every scenario. - There is no extra noise in the scenarios.</p></li>
<li><p>It&rsquo;s not shown in the output of each scenario (unless there are errors in the background) - There is no extra noise in the output.</p></li>
</ul>


<p>Example:</p>

<pre><code> Background:
    Given an author "joe"
    And pages created by "joe"
      | title |    content   |
      | cuke  | just cuke it |

  Scenario: search pages
    When I search for "cuke"
    Then I should see "just cuke it" 

  Scenario: expanding search result details
    When I search for "cuke"
    And I click "show details" for the first search result
    Then I will see the author 'joe'
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/ruby/speaking-at-scotland-on-rails-2009.html">Speaking at Scotland on Rails 2009</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-01-17T19:20:46+00:00" pubdate data-updated="true">Jan 17<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I’m really excited to be giving a talk at this years <a href="http://scotlandonrails.com/">Scotland on Rails</a> conference in Edinburgh.</p>

<p>I&rsquo;ll be talking about working outside-in with <a href="http://cukes.info/">Cucumber</a> and <a href="http://rspec.info/">RSpec</a>. Having used Cucumber and as a member of the Cucumber core developer team I hope to share lots of experiences and lessons about getting the most out of the tool.</p>

<p>It&rsquo;s looking like a <a href="http://scotlandonrails.com/schedule">great line up</a> with with some really interesting presentations across a broad number of topics. The keynotes speakers are <a href="http://www.michaelfeathers.com/">Michael Feathers</a> and <a href="http://marcelmolina.com/">Marcel Molina, Jnr</a>.</p>

<p>If you’re going to be in Edinburgh for the conference or have any burning questions about Cucumber, let me know.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/ruby/latent-semantic-analysis-in-ruby.html">Latent Semantic Analysis in Ruby</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-21T20:54:47+00:00" pubdate data-updated="true">Nov 21<span>st</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;ve had lots of requests for a Ruby version to follow up my <a href="http://blog.josephwilk.net/projects/latent-semantic-analysis-in-python.html">Latent Semantic Analysis  in Python</a> article. So I&rsquo;ve rewritten the code and article for Ruby. I wrote LSA from scratch this time and test driven so it has some subtle differences from the Python version.</p>

<h2>What is LSA?</h2>

<p>Latent Semantic Analysis (LSA) is a mathematical method that tries to bring out latent relationships within a collection of documents. Rather than looking at each document isolated from the others it looks at all the documents as a whole and the terms within them to identify relationships.</p>

<p>An example of LSA:
Using a search engine search for &ldquo;<em>ruby</em>&rdquo;.</p>

<p>Documents are returned which do not contain the search term &ldquo;<em>ruby</em>&rdquo; but contains terms like &ldquo;<em>rails</em>&rdquo;.</p>

<p>LSA has identified a latent relationship, &ldquo;<em>ruby</em>&rdquo; is semantically close to &ldquo;<em>rails</em>&rdquo;.</p>

<h2>How does it work?</h2>

<p>Given a set of word documents, each word in those documents represents a point in the semantic space. LSA uses a mathematical technique called <a href="http://en.wikipedia.org/wiki/Singular_value_decomposition">Singular value decomposition</a> to take the documents/words represented as a matrix and produce a reduced approximation of this matrix. In doing this it reduces the overall noise in the semantic space bringing words together. Hence after applying LSA some words share similar points in the semantic space, they are semantically similar.</p>

<p>These groups of semantically similar words form concepts and those concepts in turn relate to documents.</p>

<pre><code>Term a &lt;-----------&gt;
Term b &lt;-----------&gt; Concept d &lt;---------&gt; Document e
Term c &lt;-----------&gt;
</code></pre>

<h2>Background Reading on LSA</h2>

<p>There are some very good papers which describe LSA in detail:</p>

<ul>
<li><p>An introduction to LSA: <a href="http://lsa.colorado.edu/papers/dp1.LSAintro.pdf">http://lsa.colorado.edu/papers/dp1.LSAintro.pdf</a></p></li>
<li><p>Creating your own LSA space: <a href="http://www.andrew.cmu.edu/user/jquesada/pdf/bookSpacesRev1.pdf">http://www.andrew.cmu.edu/user/jquesada/pdf/bookSpacesRev1.pdf</a></p></li>
<li><p>Latent Semantic analysis: <a href="http://en.wikipedia.org/wiki/Latent_semantic_indexing">http://en.wikipedia.org/wiki/Latent_semantic_indexing</a></p></li>
</ul>


<p>And on SVD</p>

<ul>
<li><p>SVD recommendation system in ruby: <a href="http://www.igvita.com/2007/01/15/svd-recommendation-system-in-ruby/">http://www.igvita.com/2007/01/15/svd-recommendation-system-in-ruby/</a></p></li>
<li><p>MIT video lectures on SVD: <a href="http://ocw.mit.edu/OcwWeb/Mathematics/18-06Spring-2005/VideoLectures/index.htm">http://ocw.mit.edu/OcwWeb/Mathematics/18-06Spring-2005/VideoLectures/index.htm</a></p></li>
</ul>


<h2>LSA Algorithm</h2>

<p>This is an implementation of LSA in Ruby (v1.8.7). I made use of the <a href="http://rubyforge.org/projects/linalg/">linalg</a> project which while not as mature as Python&rsquo;s <a href="http://www.scipy.org/">SciPy</a> it does the job. Installing linalg can be rather challenging as it relies on <a href="http://www.netlib.org/lapack/">LAPACK</a> which in turn relies on some Fortran code.</p>

<h3>1 Create the term-document matrix</h3>

<p>We take a set of documents and map them to a vector space matrix. Each column represents a document and each row represents a term.</p>

<pre><code>         Document n  Document n+1
term n    [   1           0 ]
term n+1  [   0           1 ]
</code></pre>

<p>Read more about the <a href="http://en.wikipedia.org/wiki/Vector_space_model">Vector Space Model</a> at Wikipedia.</p>

<p>We use the <a href="http://linalg.rubyforge.org/classes/Linalg/DMatrix.html">DMatrix</a> class from Linalg to represent our term-document matrix. This is like the Ruby standard library <a href="does%20provide%20http://www.ruby-doc.org/stdlib/libdoc/matrix/rdoc/classes/Matrix.html">Matrix</a> class but with some powerful matrix functions builtin.</p>

<h3>2 tf-idf Transform</h3>

<p>tf => Term frequency</p>

<p>idf => Inverse document frequency.</p>

<p>Apply the <a href="http://en.wikipedia.org/wiki/Tf-idf">tf-idf</a> transform to the term-document matrix. This generally tends to help improve results with LSA.</p>

<p>Github source file: <a href="http://github.com/josephwilk/rsemantic/tree/master/lib/semantic/transform/tf_idf_transform.rb">tf_idf_transform.rb</a></p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>      <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">transform</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</span><span class='line'>        <span class="n">number_of_documents</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="n">num_columns</span>
</span><span class='line'>        <span class="vc">@@number_of_documents_with_term</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">matrix</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">each_with_index</span> <span class="k">do</span> <span class="o">|</span><span class="n">document</span><span class="p">,</span> <span class="n">column_index</span><span class="o">|</span>
</span><span class='line'>          <span class="n">document_term_total</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">rows</span><span class="o">.</span><span class="n">inject</span><span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span><span class="n">word_sum</span><span class="p">,</span> <span class="n">word_count</span><span class="o">|</span> <span class="n">word_sum</span> <span class="o">+</span> <span class="n">word_count</span><span class="o">.</span><span class="n">to_f</span> <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>          <span class="n">document</span><span class="o">.</span><span class="n">rows</span><span class="o">.</span><span class="n">each_with_index</span> <span class="k">do</span> <span class="o">|</span><span class="n">term_weight</span><span class="p">,</span> <span class="n">row_index</span><span class="o">|</span>
</span><span class='line'>            <span class="k">unless</span> <span class="n">term_weight</span><span class="o">.</span><span class="n">to_f</span> <span class="o">==</span> <span class="mi">0</span><span class="o">.</span><span class="mi">0</span>
</span><span class='line'>              <span class="n">matrix</span><span class="o">[</span><span class="n">row_index</span><span class="p">,</span> <span class="n">column_index</span><span class="o">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">term_weight</span> <span class="o">/</span> <span class="n">document_term_total</span><span class="p">)</span> <span class="o">*</span>
</span><span class='line'>              <span class="no">Math</span><span class="o">.</span><span class="n">log</span><span class="p">((</span><span class="n">number_of_documents</span> <span class="o">/</span> <span class="n">number_of_documents_with_term</span><span class="p">(</span><span class="n">row_index</span><span class="p">,</span> <span class="n">matrix</span><span class="p">)</span><span class="o">.</span><span class="n">to_f</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">)</span>
</span><span class='line'>            <span class="k">end</span>
</span><span class='line'>          <span class="k">end</span>
</span><span class='line'>        <span class="k">end</span>
</span><span class='line'>        <span class="n">matrix</span>
</span><span class='line'>      <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>3 Latent Semantic transform</h3>

<p>Github source file: <a href="http://github.com/josephwilk/rsemantic/tree/master/lib/semantic/transform/lsa_transform.rb">lsa_transform.rb</a></p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>      <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">number_of_dimensions_to_reduce</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'>          <span class="n">columns</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="n">num_columns</span>
</span><span class='line'>
</span><span class='line'>          <span class="k">if</span> <span class="n">dimensions</span> <span class="o">&lt;=</span> <span class="ss">columns</span><span class="p">:</span> <span class="c1">#Its a valid reduction</span>
</span><span class='line'>            <span class="n">u</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">vt</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="n">singular_value_decomposition</span>
</span><span class='line'>
</span><span class='line'>            <span class="n">sigma_prime</span> <span class="o">=</span> <span class="n">reduce_dimensions</span><span class="p">(</span><span class="n">number_of_dimensions_to_reduce</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>            <span class="n">matrix_prime</span> <span class="o">=</span> <span class="n">u</span> <span class="o">*</span> <span class="n">sigma_prime</span> <span class="o">*</span> <span class="n">vt</span>
</span><span class='line'>          <span class="k">else</span>
</span><span class='line'>            <span class="k">raise</span> <span class="no">Exception</span><span class="p">,</span> <span class="s2">&quot;dimension reduction cannot be greater than %s&quot;</span> <span class="o">%</span> <span class="n">columns</span>
</span><span class='line'>          <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>          <span class="n">matrix_prime</span>
</span><span class='line'>        <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>The LSA transform consists of 3 stages. Lets take a closer look at these 3 stages:</p>

<h4>1. Singular Value Decomposition</h4>

<p>SVD: <a href="http://en.wikipedia.org/wiki/Singular_value_decomposition">http://en.wikipedia.org/wiki/Singular_value_decomposition</a>
<a href="http://rubyforge.org/projects/linalg/">Linalg</a>&rsquo;s DMatrix has a <a href="http://linalg.rubyforge.org/classes/Linalg/DMatrix.html#M000063">singular_value_decomposition</a> method which saves us a lot of work!</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'> <span class="n">u</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">vt</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="n">singular_value_decomposition</span>
</span></code></pre></td></tr></table></div></figure>


<h4>2. Reduce the dimensions of Sigma</h4>

<p>We generally delete the smallest coefficients in the diagonal matrix Sigma to produce Sigma&#8217;.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>        <span class="k">def</span> <span class="nf">reduce_dimensions</span><span class="p">(</span><span class="n">number_of_dimensions_to_reduce</span><span class="p">,</span> <span class="n">matrix</span><span class="p">)</span>
</span><span class='line'>          <span class="k">for</span> <span class="n">diagonal_index</span> <span class="k">in</span> <span class="n">dimensions_to_be_reduced</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">number_of_dimensions_to_reduce</span><span class="p">)</span>
</span><span class='line'>            <span class="n">matrix</span><span class="o">[</span><span class="n">diagonal_index</span><span class="p">,</span> <span class="n">diagonal_index</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'>          <span class="k">end</span>
</span><span class='line'>          <span class="n">matrix</span>
</span><span class='line'>        <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>The reduction of the dimensions of Sigma combines some dimensions such that they are on more than one term. The number of coefficients deleted can depend of the corpus used. It should be large enough to fit the real structure in the data, but small enough such that noise or unimportant details are not modelled.</p>

<p>The <strong>real difficulty and weakness of  LSA</strong> is knowing <strong>how many dimensions to remove</strong>. There is no exact method of finding the right dimensions. Approaches which are used are <a href="http://mathworld.wolfram.com/L2-Norm.html">L2-norm</a> or <a href="http://en.wikipedia.org/wiki/Frobenius_norm#Frobenius_norm">Frobenius norm</a>.</p>

<h4>3. Calculate the Product with New Sigma&#8217;</h4>

<p>Finally we calculate:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'> <span class="n">matrix_prime</span> <span class="o">=</span> <span class="n">u</span> <span class="o">*</span> <span class="n">sigma_prime</span> <span class="o">*</span> <span class="n">vt</span>
</span></code></pre></td></tr></table></div></figure>


<h2>LSA In Action &ndash; rSemantic Gem</h2>

<p>First install the rsemantic gem from Github</p>

<pre><code>gem sources -a http://gems.github.com
sudo gem install josephwilk-rsemantic
</code></pre>

<p>Then we can run an example:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;rubygems&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;semantic&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="no">D1</span> <span class="o">=</span> <span class="s2">&quot;The cat in the hat disabled&quot;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="no">D2</span> <span class="o">=</span> <span class="s2">&quot;A cat is a fine pet ponies.&quot;</span>
</span><span class='line'><span class="no">D3</span> <span class="o">=</span> <span class="s2">&quot;Dogs and cats make good pets&quot;</span>
</span><span class='line'><span class="no">D4</span> <span class="o">=</span> <span class="s2">&quot;I haven&#39;t got a hat.&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#verbose mode so it shows us all the different stages</span>
</span><span class='line'><span class="n">search</span> <span class="o">=</span> <span class="ss">Semantic</span><span class="p">:</span><span class="ss">:Search</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="o">[</span><span class="no">D1</span><span class="p">,</span> <span class="no">D2</span><span class="p">,</span> <span class="no">D3</span><span class="p">,</span> <span class="no">D4</span><span class="o">]</span><span class="p">,</span> <span class="ss">:verbose</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>We start with out Model-Term frequency matrix with is generated from creating a Vector Space Search with four documents (D1-D4):</p>

<pre><code>           D1    D2    D3    D4
hat     [ +1.00 +0.00 +0.00 +1.00 ]
dog     [ +0.00 +0.00 +1.00 +0.00 ]
cat     [ +1.00 +1.00 +1.00 +0.00 ]
make    [ +0.00 +0.00 +1.00 +0.00 ]
good    [ +0.00 +0.00 +1.00 +0.00 ]
pet     [ +0.00 +1.00 +1.00 +0.00 ]
fine    [ +0.00 +1.00 +0.00 +0.00 ]
poni    [ +0.00 +1.00 +0.00 +0.00 ]
disabl  [ +1.00 +0.00 +0.00 +0.00 ]
</code></pre>

<p>Apply tf-idf transform:</p>

<pre><code>           D1    D2    D3    D4
hat     [ +0.23 +0.00 +0.00 +0.69 ]
dog     [ +0.00 +0.00 +0.28 +0.00 ]
cat     [ +0.10 +0.07 +0.06 +0.00 ]
make    [ +0.00 +0.00 +0.28 +0.00 ]
good    [ +0.00 +0.00 +0.28 +0.00 ]
pet     [ +0.00 +0.17 +0.14 +0.00 ]
fine    [ +0.00 +0.35 +0.00 +0.00 ]
poni    [ +0.00 +0.35 +0.00 +0.00 ]
disabl  [ +0.46 +0.00 +0.00 &lt;span style="color: #ff0000;"&gt;+0.00&lt;/span&gt; ]
</code></pre>

<p>Perform SVD &ndash; Reduce Sigmas dimensions (removing the 2 smallest coefficients)</p>

<pre><code>           D1    D2    D3    D4
hat     [ +0.34 -0.01 -0.01 +0.63 ]
dog     [ +0.01 -0.00 +0.28 -0.01 ]
cat     [ +0.03 +0.08 +0.06 +0.04 ]
make    [ +0.01 -0.00 +0.28 -0.01 ]
good    [ +0.01 -0.00 +0.28 -0.01 ]
pet     [ +0.01 +0.17 +0.14 -0.01 ]
fine    [ +0.02 +0.35 -0.00 -0.01 ]
poni    [ +0.02 +0.35 -0.00 -0.01 ]
disabl  [ +0.11 +0.02 +0.02 &lt;span style="color: #ff0000;"&gt;+0.19&lt;/span&gt; ]
</code></pre>

<p>Note the Word &lsquo;disabl&rsquo; despite not being in D4 now has a weighting in that document.</p>

<h2>Dependencies</h2>

<ul>
<li><p>linalg &ndash; <a href="http://rubyforge.org/projects/linalg/">http://rubyforge.org/projects/linalg/</a></p></li>
<li><p>stemmer &ndash; <a href="http://stemmer.rubyforge.org/wiki/wiki.pl?HomePage">http://stemmer.rubyforge.org/wiki/wiki.pl?HomePage</a></p></li>
</ul>


<p>Linalg is dependent on <a href="http://www.netlib.org/lapack/">LAPACK</a> which can be a challenge to install.</p>

<p>This article on setting up linalg on Mac OS X helped: <a href="http://www.commonmediainc.com/2008/03/24/building-lapack-and-rubys-linalg-on-mac-os-x/">http://www.commonmediainc.com/2008/03/24/building-lapack-and-rubys-linalg-</a><a href="http://www.commonmediainc.com/2008/03/24/building-lapack-and-rubys-linalg-on-mac-os-x/">on-mac-os-x/</a></p>

<h2>Problems</h2>

<p>LSA assumes the <a href="http://en.wikipedia.org/wiki/Normal_distribution">Normal distribution</a> where the <a href="http://en.wikipedia.org/wiki/Poisson_distribution">Poisson distribution</a> has actually been observed.</p>

<h2>Source Code</h2>

<p>The source code initially shown here has gone through a lot of refactoring and has become much more than just LSA. You can get the full project with source code from github:</p>

<pre><code>git clone git://github.com/josephwilk/rsemantic.git
</code></pre>

<p>And you can read about rSemantic on Github: <a href="http://josephwilk.github.com/rsemantic">http://josephwilk.github.com/rsemantic</a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/6/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/4/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/art/overtone-shader-visuals.html">Visuals with Overtone and Shadertone</a>
      </li>
    
      <li class="post">
        <a href="/art/emacs-animation.html">Animations with Emacs</a>
      </li>
    
      <li class="post">
        <a href="/clojure/clojure-and-kinesis-at-scale.html">Clojure and Kinesis at scale</a>
      </li>
    
      <li class="post">
        <a href="/clojure/overtone-driving-minecraft.html">Clojure and Overtone driving Minecraft</a>
      </li>
    
      <li class="post">
        <a href="/art/live-coding-repl-electric.html">Live Coding - Repl Electric</a>
      </li>
    
      <li class="post">
        <a href="/clojure/creative_machines.html">Creative Machines</a>
      </li>
    
      <li class="post">
        <a href="/clojure/sounds-of-the-human-brain.html">Sounds of the human brain</a>
      </li>
    
      <li class="post">
        <a href="/clojure/building-clojure-services-at-scale.html">Building Clojure services at scale</a>
      </li>
    
      <li class="post">
        <a href="/clojure/creating-instruments-with-overtone.html">Creating sampled instruments with Overtone</a>
      </li>
    
      <li class="post">
        <a href="/elixir/sets-in-elixir.html">Sets in Elixir</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/josephwilk">@josephwilk</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'josephwilk',
            count: 10,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Joseph Wilk -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'josephwilk';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
